Script started on 2025-05-03 11:25:14+01:00 [COMMAND="podman run -itv /home/giles/code/example-services/services/bl01t-di-cam-01/config:/epics/ioc/config ghcr.io/epics-containers/ioc-adsimdetector-runtime:2025.3.5" <not executed on terminal>]
+ cd /epics/ioc
+ CONFIG_DIR=/epics/ioc/config
+ [[ -f /epics/support/configure/RELEASE.shell ]]
+ source /epics/support/configure/RELEASE.shell
++ export IOCSTATS=/epics/support/iocStats
++ IOCSTATS=/epics/support/iocStats
++ export EPICS_DB_INCLUDE_PATH=/epics/support/ADCore/db:/epics/support/ADSimDetector/db:/epics/support/asyn/db:/epics/support/autosave/db:/epics/support/busy/db:/epics/support/calc/db:/epics/support/ffmpegServer/db:/epics/support/iocStats/db:/epics/support/sscan/db
++ EPICS_DB_INCLUDE_PATH=/epics/support/ADCore/db:/epics/support/ADSimDetector/db:/epics/support/asyn/db:/epics/support/autosave/db:/epics/support/busy/db:/epics/support/calc/db:/epics/support/ffmpegServer/db:/epics/support/iocStats/db:/epics/support/sscan/db
++ export PVLOGGING=/epics/support/pvlogging
++ PVLOGGING=/epics/support/pvlogging
++ export ASYN=/epics/support/asyn
++ ASYN=/epics/support/asyn
++ export BUSY=/epics/support/busy
++ BUSY=/epics/support/busy
++ export SSCAN=/epics/support/sscan
++ SSCAN=/epics/support/sscan
++ export CALC=/epics/support/calc
++ CALC=/epics/support/calc
++ export ADCORE=/epics/support/ADCore
++ ADCORE=/epics/support/ADCore
++ export FFMPEGSERVER=/epics/support/ffmpegServer
++ FFMPEGSERVER=/epics/support/ffmpegServer
++ export ADSIMDETECTOR=/epics/support/ADSimDetector
++ ADSIMDETECTOR=/epics/support/ADSimDetector
++ export AUTOSAVE=/epics/support/autosave
++ AUTOSAVE=/epics/support/autosave
+ override=/epics/ioc/config/start.sh
+ ibek_yamls=(${CONFIG_DIR}/*.yaml)
+ ioc_startup=/epics/ioc/config/st.cmd
+ export RUNTIME_DIR=/epics/runtime
+ RUNTIME_DIR=/epics/runtime
+ mkdir -p /epics/runtime
+ epics_db=/epics/runtime/ioc.db
+ ibek_src=/epics/ioc/config/ioc.yaml
+ '[' -d /epics/ioc/config ']'
+ echo 'checking config folder /epics/ioc/config'
checking config folder /epics/ioc/config
+ ls -al /epics/ioc/config
total 12
drwxrwxr-x 2 root root 4096 Apr 16 19:25 .
drwxrwxr-x 1 root root 4096 May  3 10:25 ..
-rw-rw-r-- 1 root root 2326 Apr 16 19:25 ioc.yaml
+ '[' -f /epics/ioc/config/start.sh ']'
+ '[' -f /epics/ioc/config/ioc.yaml ']'
+ [[ 1 > 1 ]]
+ db_src=/epics/runtime/ioc.subst
+ final_ioc_startup=/epics/runtime/st.cmd
+ defs='/epics/ibek-defs/*.ibek.support.yaml'
+ ibek runtime generate /epics/ioc/config/ioc.yaml /epics/ibek-defs/ADCore.ibek.support.yaml /epics/ibek-defs/ADSimDetector.ibek.support.yaml /epics/ibek-defs/asyn.ibek.support.yaml /epics/ibek-defs/autosave.ibek.support.yaml /epics/ibek-defs/epics.ibek.support.yaml /epics/ibek-defs/ffmpegServer.ibek.support.yaml /epics/ibek-defs/iocStats.ibek.support.yaml /epics/ibek-defs/pvlogging.ibek.support.yaml
+ ibek runtime generate-autosave
+ [[ -d /epics/support/configure/protocol ]]
+ rm -fr /epics/runtime/protocol
+ cp -r /epics/support/configure/protocol /epics/runtime
+ '[' -f /epics/runtime/ioc.subst ']'
++ for i in ${SUPPORT}/*/db
++ echo -n '-I /epics/support/ADCore/db '
++ for i in ${SUPPORT}/*/db
++ echo -n '-I /epics/support/ADSimDetector/db '
++ for i in ${SUPPORT}/*/db
++ echo -n '-I /epics/support/asyn/db '
++ for i in ${SUPPORT}/*/db
++ echo -n '-I /epics/support/autosave/db '
++ for i in ${SUPPORT}/*/db
++ echo -n '-I /epics/support/busy/db '
++ for i in ${SUPPORT}/*/db
++ echo -n '-I /epics/support/calc/db '
++ for i in ${SUPPORT}/*/db
++ echo -n '-I /epics/support/ffmpegServer/db '
++ for i in ${SUPPORT}/*/db
++ echo -n '-I /epics/support/iocStats/db '
++ for i in ${SUPPORT}/*/db
++ echo -n '-I /epics/support/sscan/db '
+ includes='-I /epics/support/ADCore/db -I /epics/support/ADSimDetector/db -I /epics/support/asyn/db -I /epics/support/autosave/db -I /epics/support/busy/db -I /epics/support/calc/db -I /epics/support/ffmpegServer/db -I /epics/support/iocStats/db -I /epics/support/sscan/db '
+ bash -c 'msi -o/epics/runtime/ioc.db -I /epics/support/ADCore/db -I /epics/support/ADSimDetector/db -I /epics/support/asyn/db -I /epics/support/autosave/db -I /epics/support/busy/db -I /epics/support/calc/db -I /epics/support/ffmpegServer/db -I /epics/support/iocStats/db -I /epics/support/sscan/db  -I/epics/runtime -S/epics/runtime/ioc.subst'
+ [[ linux-x86_64 == \l\i\n\u\x\-\x\8\6\_\6\4 ]]
+ exec /epics/ioc/bin/linux-x86_64/ioc /epics/runtime/st.cmd
# EPICS IOC Startup Script generated by https://github.com/epics-containers/ibek
cd "/epics/ioc"
dbLoadDatabase dbd/ioc.dbd
ioc_registerRecordDeviceDriver pdbbase
# Autosave pre iocInit
set_requestfile_path("/epics", "autosave")
set_requestfile_path("/epics", "runtime")
set_savefile_path("/autosave")
save_restoreSet_status_prefix BL01T-DI-CAM-01:
save_restoreSet_Debug 0
save_restoreSet_NumSeqFiles 3
save_restoreSet_SeqPeriodInSeconds 600
save_restoreSet_DatedBackupFiles 1
save_restoreSet_IncompleteSetsOk 1
set_pass0_restoreFile autosave_positions.sav
set_pass1_restoreFile autosave_settings.sav
# simDetectorConfig(portName, maxSizeX, maxSizeY, dataType, maxBuffers, maxMemory)
simDetectorConfig("DET.DET", 1024, 1024, 0, 50, 0)
ffmpegServerConfigure(8080)
Starting server on port 8080...
Null httpd 0.5.1
Binding to 'http://any:8080/'...OK.
OK
# ffmpegStreamConfigure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr, maxBuffers, maxMemory, priority, stackSize)
ffmpegStreamConfigure("DET.MJP", 2, 0, "DET.DET", 0, 50, 0, 0, 0)
# NDROIConfigure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr, maxBuffers, maxMemory, priority, stackSize, maxThreads)
NDROIConfigure("DET.ROI", 2, 0, "DET.DET", 0, 0, 0, 0, 0, 1)
# NDProcessConfigure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr)
NDProcessConfigure("DET.PROC", 2, 0, "DET.ROI", 0)
# NDPvaConfigure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr, pvName, maxBuffers, maxMemory, priority, stackSize)
NDPvaConfigure("DET.PVA", 2, 0, "DET.DET", 0, BL01T-DI-CAM-01:PVA:OUTPUT, 0, 0, 0, 0)
startPVAServer
# NDStdArraysConfigure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr, maxBuffers, maxMemory, priority, stackSize, maxThreads)
NDStdArraysConfigure("DET.ARR", 2, 0, "DET.PROC", 0, 0, 0, 0, 0, 1)
# ADCore path for manual NDTimeSeries.template to find base plugin template
epicsEnvSet "EPICS_DB_INCLUDE_PATH", "/epics/support/ADCore/db"
# NDStatsConfigure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr, maxBuffers, maxMemory, priority, stackSize, maxThreads)
NDStatsConfigure("DET.STAT", 2, 0, "DET.DET", 0, 0, 0, 0, 0, 1)
# NDTimeSeriesConfigure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr, maxSignals, maxBuffers, maxMemory, priority, stackSize)
NDTimeSeriesConfigure("DET.STAT_TS", 2, 0, "DET.STAT", 1, 23, 0, 0, 0, 0)
# NDFileHDF5Configure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr)
NDFileHDF5Configure("DET.HDF", 2, 0, "DET.PROC", 0)
# NDFileTIFFConfigure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr)
NDFileTIFFConfigure("DET.TIFF", 2, 0, "DET.PROC", 0)
# NDOverlayConfigure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr, NOverlays, maxBuffers, maxMemory, priority, stackSize, maxThreads)
NDOverlayConfigure("DET.OVER", 2, 0, "DET.PROC", 0, 4, 0, 0, 0, 0, 1)
# NDROIStatConfigure(portName, queueSize, blockingCallbacks,
NDROIStatConfigure(DET.ROISTAT, 2, 0, DET.PROC, 0, 4, 0, 0, 0, 0, 1)
# NDFileNetCDFConfigure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr)
NDFileNetCDFConfigure("DET.CDF", 2, 0, "DET.DET", 0)
dbLoadRecords /epics/runtime/ioc.db
iocInit
Starting iocInit
############################################################################
## EPICS R7.0.9
## Rev. R7.0.9-dirty
## Rev. Date Git: 2025-02-21 17:31:33 -0600
############################################################################
save_restore: Can't open file '/autosave/autosave_positions.sav'.
save_restore: Trying backup file '/autosave/autosave_positions.savB'
save_restore: Can't open file '/autosave/autosave_positions.savB'.
save_restore: Can't figure out which seq file is most recent,
save_restore: so I'm just going to start with '/autosave/autosave_positions.sav0'.
save_restore: Trying backup file '/autosave/autosave_positions.sav0'
save_restore: Can't open file '/autosave/autosave_positions.sav0'.
save_restore: Trying backup file '/autosave/autosave_positions.sav1'
save_restore: Can't open file '/autosave/autosave_positions.sav1'.
save_restore: Trying backup file '/autosave/autosave_positions.sav2'
save_restore: Can't open file '/autosave/autosave_positions.sav2'.
save_restore: Can't find a file to restore from...save_restore: ...last tried '/autosave/autosave_positions.sav2'. I give up.
save_restore: **********************************

save_restore: Can't open save file.save_restore: Can't open file '/autosave/autosave_settings.sav'.
save_restore: Trying backup file '/autosave/autosave_settings.savB'
save_restore: Can't open file '/autosave/autosave_settings.savB'.
save_restore: Can't figure out which seq file is most recent,
save_restore: so I'm just going to start with '/autosave/autosave_settings.sav0'.
save_restore: Trying backup file '/autosave/autosave_settings.sav0'
save_restore: Can't open file '/autosave/autosave_settings.sav0'.
save_restore: Trying backup file '/autosave/autosave_settings.sav1'
save_restore: Can't open file '/autosave/autosave_settings.sav1'.
save_restore: Trying backup file '/autosave/autosave_settings.sav2'
save_restore: Can't open file '/autosave/autosave_settings.sav2'.
save_restore: Can't find a file to restore from...save_restore: ...last tried '/autosave/autosave_settings.sav2'. I give up.
save_restore: **********************************

save_restore: Can't open save file.iocRun: All initialization complete
# Autosave post iocInit
create_monitor_set autosave_positions.req, 5, ""
create_monitor_set autosave_settings.req, 30, ""
autosave_positions.sav: 0 of 0 PV's connected
dbpf BL01T-DI-CAM-01:DET:AcquireTime 0.1
DBF_DOUBLE:         0.1       
dbpf BL01T-DI-CAM-01:ARR:EnableCallbacks 1
DBF_STRING:         "Enable"  
dbpf BL01T-DI-CAM-01:PROC:EnableCallbacks 1
DBF_STRING:         "Enable"  
dbpf BL01T-DI-CAM-01:ROI:EnableCallbacks 1
DBF_STRING:         "Enable"  
dbpf BL01T-DI-CAM-01:PVA:EnableCallbacks 1
DBF_STRING:         "Enable"  
dbpf BL01T-DI-CAM-01:DET:Acquire 1
DBF_STRING:         "Acquire" 
[?2004hepics> autosave_settings.sav: 763 of 763 PV's connected
[?2004l
Shutting down http server...OK

Script done on 2025-05-03 11:25:21+01:00 [COMMAND_EXIT_CODE="0"]
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          ile: Can't write new backup file. [250503-102254]
../save_restore.c(1804): [0x2]=write_it:No such file or directory
*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***
save_restore:write_save_file: Backup file (/autosave/autosave_positions.savB) bad or not found.  Writing a new one. [250503-102323]
save_restore:write_it - unable to open file '/autosave/autosave_positions.savB' [250503-102323]
*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***
save_restore:write_save_file: Can't write new backup file. [250503-102323]
*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***
../save_restore.c(1804): [0x2]=write_it:No such file or directory
save_restore:write_save_file: Backup file (/autosave/autosave_settings.savB) bad or not found.  Writing a new one. [250503-102354]
save_restore:write_it - unable to open file '/autosave/autosave_settings.savB' [250503-102354]
*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***
save_restore:write_save_file: Can't write new backup file. [250503-102354]
*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***
../save_restore.c(1804): [0x2]=write_it:No such file or directory
save_restore:write_save_file: Backup file (/autosave/autosave_positions.savB) bad or not found.  Writing a new one. [250503-102423]
save_restore:write_it - unable to open file '/autosave/autosave_positions.savB' [250503-102423]
*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***
save_restore:write_save_file: Can't write new backup file. [250503-102423]
*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***
../save_restore.c(1804): [0x2]=write_it:No such file or directory
save_restore:write_save_file: Backup file (/autosave/autosave_settings.savB) bad or not found.  Writing a new one. [250503-102454]
save_restore:write_it - unable to open file '/autosave/autosave_settings.savB' [250503-102454]
*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***
save_restore:write_save_file: Can't write new backup file. [250503-102454]
*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***
../save_restore.c(1804): [0x2]=write_it:No such file or directory
^C[?2004l[?2004h
[?2004l[?2004hepics> 
[?2004l[?2004hepics> 
[?2004l[?2004hepics> 
[?2004l[?2004hepics> [?2004l

Shutting down http server...OK

Process exited. Cleaning up...

Socket closed.
[1m[7m%[27m[1m[0m                                                                                                                          ]2;giles@ws03:~/code/stdio-socket]1;../stdio-socket]7;file://ws03/home/giles/code/stdio-socket\[0m[27m[24m[J 
[35mgiles[00m@[33mws03[00m: [01;34m~/code/stdio-socket[00m [32mfix-local-stdin[31m![00m
$ [K[109C[32m[11:25:13][00m[119D[?1h=[?2004hclear; stdio-expose "$IOCRUN"[?1l>[?2004l
]2;clear; stdio-expose "$IOCRUN"]1;clear;[H[2J[3JProcess started with PID 46927

Socket created at /tmp/stdio.sock.
+ cd /epics/ioc
+ CONFIG_DIR=/epics/ioc/config
+ [[ -f /epics/support/configure/RELEASE.shell ]]
+ source /epics/support/configure/RELEASE.shell
++ export IOCSTATS=/epics/support/iocStats
++ IOCSTATS=/epics/support/iocStats
++ export EPICS_DB_INCLUDE_PATH=/epics/support/ADCore/db:/epics/support/ADSimDetector/db:/epics/support/asyn/db:/epics/support/autosave/db:/epics/support/busy/db:/epics/support/calc/db:/epics/support/ffmpegServer/db:/epics/support/iocStats/db:/epics/support/sscan/db
++ EPICS_DB_INCLUDE_PATH=/epics/support/ADCore/db:/epics/support/ADSimDetector/db:/epics/support/asyn/db:/epics/support/autosave/db:/epics/support/busy/db:/epics/support/calc/db:/epics/support/ffmpegServer/db:/epics/support/iocStats/db:/epics/support/sscan/db
++ export PVLOGGING=/epics/support/pvlogging
++ PVLOGGING=/epics/support/pvlogging
++ export ASYN=/epics/support/asyn
++ ASYN=/epics/support/asyn
++ export BUSY=/epics/support/busy
++ BUSY=/epics/support/busy
++ export SSCAN=/epics/support/sscan
++ SSCAN=/epics/support/sscan
++ export CALC=/epics/support/calc
++ CALC=/epics/support/calc
++ export ADCORE=/epics/support/ADCore
++ ADCORE=/epics/support/ADCore
++ export FFMPEGSERVER=/epics/support/ffmpegServer
++ FFMPEGSERVER=/epics/support/ffmpegServer
++ export ADSIMDETECTOR=/epics/support/ADSimDetector
++ ADSIMDETECTOR=/epics/support/ADSimDetector
++ export AUTOSAVE=/epics/support/autosave
++ AUTOSAVE=/epics/support/autosave
+ override=/epics/ioc/config/start.sh
+ ibek_yamls=(${CONFIG_DIR}/*.yaml)
+ ioc_startup=/epics/ioc/config/st.cmd
+ export RUNTIME_DIR=/epics/runtime
+ RUNTIME_DIR=/epics/runtime
+ mkdir -p /epics/runtime
+ epics_db=/epics/runtime/ioc.db
+ ibek_src=/epics/ioc/config/ioc.yaml
+ '[' -d /epics/ioc/config ']'
+ echo 'checking config folder /epics/ioc/config'
checking config folder /epics/ioc/config
+ ls -al /epics/ioc/config
total 12
drwxrwxr-x 2 root root 4096 Apr 16 19:25 .
drwxrwxr-x 1 root root 4096 May  3 10:25 ..
-rw-rw-r-- 1 root root 2326 Apr 16 19:25 ioc.yaml
+ '[' -f /epics/ioc/config/start.sh ']'
+ '[' -f /epics/ioc/config/ioc.yaml ']'
+ [[ 1 > 1 ]]
+ db_src=/epics/runtime/ioc.subst
+ final_ioc_startup=/epics/runtime/st.cmd
+ defs='/epics/ibek-defs/*.ibek.support.yaml'
+ ibek runtime generate /epics/ioc/config/ioc.yaml /epics/ibek-defs/ADCore.ibek.support.yaml /epics/ibek-defs/ADSimDetector.ibek.support.yaml /epics/ibek-defs/asyn.ibek.support.yaml /epics/ibek-defs/autosave.ibek.support.yaml /epics/ibek-defs/epics.ibek.support.yaml /epics/ibek-defs/ffmpegServer.ibek.support.yaml /epics/ibek-defs/iocStats.ibek.support.yaml /epics/ibek-defs/pvlogging.ibek.support.yaml
+ ibek runtime generate-autosave
+ [[ -d /epics/support/configure/protocol ]]
+ rm -fr /epics/runtime/protocol
+ cp -r /epics/support/configure/protocol /epics/runtime
+ '[' -f /epics/runtime/ioc.subst ']'
++ for i in ${SUPPORT}/*/db
++ echo -n '-I /epics/support/ADCore/db '
++ for i in ${SUPPORT}/*/db
++ echo -n '-I /epics/support/ADSimDetector/db '
++ for i in ${SUPPORT}/*/db
++ echo -n '-I /epics/support/asyn/db '
++ for i in ${SUPPORT}/*/db
++ echo -n '-I /epics/support/autosave/db '
++ for i in ${SUPPORT}/*/db
++ echo -n '-I /epics/support/busy/db '
++ for i in ${SUPPORT}/*/db
++ echo -n '-I /epics/support/calc/db '
++ for i in ${SUPPORT}/*/db
++ echo -n '-I /epics/support/ffmpegServer/db '
++ for i in ${SUPPORT}/*/db
++ echo -n '-I /epics/support/iocStats/db '
++ for i in ${SUPPORT}/*/db
++ echo -n '-I /epics/support/sscan/db '
+ includes='-I /epics/support/ADCore/db -I /epics/support/ADSimDetector/db -I /epics/support/asyn/db -I /epics/support/autosave/db -I /epics/support/busy/db -I /epics/support/calc/db -I /epics/support/ffmpegServer/db -I /epics/support/iocStats/db -I /epics/support/sscan/db '
+ bash -c 'msi -o/epics/runtime/ioc.db -I /epics/support/ADCore/db -I /epics/support/ADSimDetector/db -I /epics/support/asyn/db -I /epics/support/autosave/db -I /epics/support/busy/db -I /epics/support/calc/db -I /epics/support/ffmpegServer/db -I /epics/support/iocStats/db -I /epics/support/sscan/db  -I/epics/runtime -S/epics/runtime/ioc.subst'
+ [[ linux-x86_64 == \l\i\n\u\x\-\x\8\6\_\6\4 ]]
+ exec /epics/ioc/bin/linux-x86_64/ioc /epics/runtime/st.cmd
# EPICS IOC Startup Script generated by https://github.com/epics-containers/ibek
cd "/epics/ioc"
dbLoadDatabase dbd/ioc.dbd
ioc_registerRecordDeviceDriver pdbbase
# Autosave pre iocInit
set_requestfile_path("/epics", "autosave")
set_requestfile_path("/epics", "runtime")
set_savefile_path("/autosave")
save_restoreSet_status_prefix BL01T-DI-CAM-01:
save_restoreSet_Debug 0
save_restoreSet_NumSeqFiles 3
save_restoreSet_SeqPeriodInSeconds 600
save_restoreSet_DatedBackupFiles 1
save_restoreSet_IncompleteSetsOk 1
set_pass0_restoreFile autosave_positions.sav
set_pass1_restoreFile autosave_settings.sav
# simDetectorConfig(portName, maxSizeX, maxSizeY, dataType, maxBuffers, maxMemory)
simDetectorConfig("DET.DET", 1024, 1024, 0, 50, 0)
ffmpegServerConfigure(8080)
Starting server on port 8080...
Null httpd 0.5.1
Binding to 'http://any:8080/'...OK.
OK
# ffmpegStreamConfigure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr, maxBuffers, maxMemory, priority, stackSize)
ffmpegStreamConfigure("DET.MJP", 2, 0, "DET.DET", 0, 50, 0, 0, 0)
# NDROIConfigure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr, maxBuffers, maxMemory, priority, stackSize, maxThreads)
NDROIConfigure("DET.ROI", 2, 0, "DET.DET", 0, 0, 0, 0, 0, 1)
# NDProcessConfigure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr)
NDProcessConfigure("DET.PROC", 2, 0, "DET.ROI", 0)
# NDPvaConfigure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr, pvName, maxBuffers, maxMemory, priority, stackSize)
NDPvaConfigure("DET.PVA", 2, 0, "DET.DET", 0, BL01T-DI-CAM-01:PVA:OUTPUT, 0, 0, 0, 0)
startPVAServer
# NDStdArraysConfigure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr, maxBuffers, maxMemory, priority, stackSize, maxThreads)
NDStdArraysConfigure("DET.ARR", 2, 0, "DET.PROC", 0, 0, 0, 0, 0, 1)
# ADCore path for manual NDTimeSeries.template to find base plugin template
epicsEnvSet "EPICS_DB_INCLUDE_PATH", "/epics/support/ADCore/db"
# NDStatsConfigure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr, maxBuffers, maxMemory, priority, stackSize, maxThreads)
NDStatsConfigure("DET.STAT", 2, 0, "DET.DET", 0, 0, 0, 0, 0, 1)
# NDTimeSeriesConfigure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr, maxSignals, maxBuffers, maxMemory, priority, stackSize)
NDTimeSeriesConfigure("DET.STAT_TS", 2, 0, "DET.STAT", 1, 23, 0, 0, 0, 0)
# NDFileHDF5Configure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr)
NDFileHDF5Configure("DET.HDF", 2, 0, "DET.PROC", 0)
# NDFileTIFFConfigure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr)
NDFileTIFFConfigure("DET.TIFF", 2, 0, "DET.PROC", 0)
# NDOverlayConfigure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr, NOverlays, maxBuffers, maxMemory, priority, stackSize, maxThreads)
NDOverlayConfigure("DET.OVER", 2, 0, "DET.PROC", 0, 4, 0, 0, 0, 0, 1)
# NDROIStatConfigure(portName, queueSize, blockingCallbacks,
NDROIStatConfigure(DET.ROISTAT, 2, 0, DET.PROC, 0, 4, 0, 0, 0, 0, 1)
# NDFileNetCDFConfigure(portName, queueSize, blockingCallbacks, NDArrayPort, NDArrayAddr)
NDFileNetCDFConfigure("DET.CDF", 2, 0, "DET.DET", 0)
dbLoadRecords /epics/runtime/ioc.db
iocInit
Starting iocInit
############################################################################
## EPICS R7.0.9
## Rev. R7.0.9-dirty
## Rev. Date Git: 2025-02-21 17:31:33 -0600
############################################################################
save_restore: Can't open file '/autosave/autosave_positions.sav'.
save_restore: Trying backup file '/autosave/autosave_positions.savB'
save_restore: Can't open file '/autosave/autosave_positions.savB'.
save_restore: Can't figure out which seq file is most recent,
save_restore: so I'm just going to start with '/autosave/autosave_positions.sav0'.
save_restore: Trying backup file '/autosave/autosave_positions.sav0'
save_restore: Can't open file '/autosave/autosave_positions.sav0'.
save_restore: Trying backup file '/autosave/autosave_positions.sav1'
save_restore: Can't open file '/autosave/autosave_positions.sav1'.
save_restore: Trying backup file '/autosave/autosave_positions.sav2'
save_restore: Can't open file '/autosave/autosave_positions.sav2'.
save_restore: Can't find a file to restore from...save_restore: ...last tried '/autosave/autosave_positions.sav2'. I give up.
save_restore: **********************************

save_restore: Can't open save file.save_restore: Can't open file '/autosave/autosave_settings.sav'.
save_restore: Trying backup file '/autosave/autosave_settings.savB'
save_restore: Can't open file '/autosave/autosave_settings.savB'.
save_restore: Can't figure out which seq file is most recent,
save_restore: so I'm just going to start with '/autosave/autosave_settings.sav0'.
save_restore: Trying backup file '